[
  {
    "projectId": "614c5879-5ebf-4350-b4ca-946bd4647f8e",
    "testId": "e1d08e3e-a419-442d-951b-8c93c8647769",
    "userId": "74f8c458-2021-703c-df31-0f7994afbd38",
    "title": "TC001-Calendar Creation Success",
    "description": "Verify that a logged-in user can successfully create a new advent calendar with default settings and save it to the backend.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:8080/fresta/\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Click the 'Entrar' button to start login with email 'testsprite@fresta.com'.\n        frame = context.pages[-1]\n        # Click the 'Entrar' button to open login form\n        elem = frame.locator('xpath=html/body/div/div[2]/section/header/div/div/div/nav/button[3]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click on 'Portal Pessoal' to proceed with personal calendar login.\n        frame = context.pages[-1]\n        # Click on 'Portal Pessoal' to proceed with personal calendar login\n        elem = frame.locator('xpath=html/body/div/div[2]/div[3]/div[2]/div').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input email 'testsprite@fresta.com' and click 'Enviar link mágico' to log in.\n        frame = context.pages[-1]\n        # Input email 'testsprite@fresta.com' for login\n        elem = frame.locator('xpath=html/body/div/div[2]/div/div/div/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('testsprite@fresta.com')\n        \n\n        frame = context.pages[-1]\n        # Click 'Enviar link mágico' to send magic link and log in\n        elem = frame.locator('xpath=html/body/div/div[2]/div/div/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Calendário de Natal Exclusivo').first).to_be_visible(timeout=30000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: The advent calendar creation did not succeed as expected. 'Meus Calendários' or 'Calendário' was not found in the UI after submitting the calendar creation form.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Login with magic link failed to proceed after clicking 'Enviar link mágico'. The page remains on the login screen with no redirect or confirmation. This blocks further testing of calendar creation. Reporting this issue and stopping the task.\nBrowser Console Logs:\n[WARNING] ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:8080/fresta/node_modules/.vite/deps/react-router-dom.js?v=77869192:4392:12)\n[WARNING] ⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:8080/fresta/node_modules/.vite/deps/react-router-dom.js?v=77869192:4392:12)\n[WARNING] ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:8080/fresta/node_modules/.vite/deps/react-router-dom.js?v=77869192:4392:12)\n[WARNING] ⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:8080/fresta/node_modules/.vite/deps/react-router-dom.js?v=77869192:4392:12)\n[WARNING] ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:8080/fresta/node_modules/.vite/deps/react-router-dom.js?v=77869192:4392:12)\n[WARNING] ⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:8080/fresta/node_modules/.vite/deps/react-router-dom.js?v=77869192:4392:12)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/74f8c458-2021-703c-df31-0f7994afbd38/1769199797873179//tmp/test_task/result.webm",
    "created": "2026-01-23T20:20:09.753Z",
    "modified": "2026-01-23T20:23:17.994Z"
  },
  {
    "projectId": "614c5879-5ebf-4350-b4ca-946bd4647f8e",
    "testId": "7809a9b3-366b-4305-9d56-bb00a1797993",
    "userId": "74f8c458-2021-703c-df31-0f7994afbd38",
    "title": "TC008-Admin System Health Dashboard Metrics Display",
    "description": "Validate that the administrator dashboard correctly displays real-time PostgreSQL metrics such as active connections and cache hit ratios via custom RPC calls.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:8080/fresta/\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Click on 'Entrar' button to start login process.\n        frame = context.pages[-1]\n        # Click on 'Entrar' button to start login process.\n        elem = frame.locator('xpath=html/body/div/div[2]/section/header/div/div/div/nav/button[3]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click on 'Portal Corporativo' to enter the corporate portal.\n        frame = context.pages[-1]\n        # Click on 'Portal Corporativo' to enter the corporate portal.\n        elem = frame.locator('xpath=html/body/div/div[2]/div[3]/div[2]/div[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input the email 'testsprite@fresta.com' into the email field and click 'Entrar no Painel'.\n        frame = context.pages[-1]\n        # Input the admin email 'testsprite@fresta.com' into the email field.\n        elem = frame.locator('xpath=html/body/div/div[2]/div[2]/div/div[2]/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('testsprite@fresta.com')\n        \n\n        frame = context.pages[-1]\n        # Click the 'Entrar no Painel' button to submit login.\n        elem = frame.locator('xpath=html/body/div/div[2]/div[2]/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input the email 'testsprite@fresta.com' into the email field and click 'Enviar link mágico' to trigger automatic redirect to the dashboard.\n        frame = context.pages[-1]\n        # Input the admin email 'testsprite@fresta.com' into the email field.\n        elem = frame.locator('xpath=html/body/div/div[2]/div/div/div/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('testsprite@fresta.com')\n        \n\n        frame = context.pages[-1]\n        # Click the 'Enviar link mágico' button to send the magic link and trigger automatic redirect.\n        elem = frame.locator('xpath=html/body/div/div[2]/div/div/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click on the 'Dashboard RH' link in the left sidebar to navigate to the system health dashboard.\n        frame = context.pages[-1]\n        # Click on 'Dashboard RH' link to navigate to the system health dashboard.\n        elem = frame.locator('xpath=html/body/div/div[2]/div/div/div/div[2]/div/div/div[2]/div/div[2]/ul/li/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input the admin email 'testsprite@fresta.com' again and click 'Enviar link mágico' to re-login and attempt to access the system health dashboard again.\n        frame = context.pages[-1]\n        # Re-input the admin email 'testsprite@fresta.com' into the email field to re-login.\n        elem = frame.locator('xpath=html/body/div/div[2]/div/div/div/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('testsprite@fresta.com')\n        \n\n        frame = context.pages[-1]\n        # Click the 'Enviar link mágico' button to send the magic link and trigger automatic redirect to dashboard.\n        elem = frame.locator('xpath=html/body/div/div[2]/div/div/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click on the 'Dashboard RH' link in the left sidebar to navigate to the system health dashboard.\n        frame = context.pages[-1]\n        # Click on 'Dashboard RH' link to navigate to the system health dashboard.\n        elem = frame.locator('xpath=html/body/div/div[2]/div/div/div/div[2]/div/div/div[2]/div/div[2]/ul/li/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input the admin email 'testsprite@fresta.com' into the email field and click 'Enviar link mágico' to trigger automatic redirect to the dashboard.\n        frame = context.pages[-1]\n        # Input the admin email 'testsprite@fresta.com' into the email field.\n        elem = frame.locator('xpath=html/body/div/div[2]/div/div/div/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('testsprite@fresta.com')\n        \n\n        frame = context.pages[-1]\n        # Click the 'Enviar link mágico' button to send the magic link and trigger automatic redirect.\n        elem = frame.locator('xpath=html/body/div/div[2]/div/div/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click on the 'Dashboard RH' link in the left sidebar to navigate to the system health dashboard.\n        frame = context.pages[-1]\n        # Click on 'Dashboard RH' link to navigate to the system health dashboard.\n        elem = frame.locator('xpath=html/body/div/div[2]/div/div/div/div[2]/div/div/div[2]/div/div[2]/ul/li/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Real-time PostgreSQL Metrics Overview').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: The administrator dashboard did not display real-time PostgreSQL metrics such as active connections and cache hit ratios as expected.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Unable to access the system health dashboard due to redirection to login page when clicking 'Dashboard RH'. Cannot validate PostgreSQL metrics as required. Task stopped.\nBrowser Console Logs:\n[WARNING] ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:8080/fresta/node_modules/.vite/deps/react-router-dom.js?v=77869192:4392:12)\n[WARNING] ⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:8080/fresta/node_modules/.vite/deps/react-router-dom.js?v=77869192:4392:12)\n[WARNING] ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:8080/fresta/node_modules/.vite/deps/react-router-dom.js?v=77869192:4392:12)\n[WARNING] ⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:8080/fresta/node_modules/.vite/deps/react-router-dom.js?v=77869192:4392:12)\n[WARNING] ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:8080/fresta/node_modules/.vite/deps/react-router-dom.js?v=77869192:4392:12)\n[WARNING] ⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:8080/fresta/node_modules/.vite/deps/react-router-dom.js?v=77869192:4392:12)\n[WARNING] ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:8080/fresta/node_modules/.vite/deps/react-router-dom.js?v=77869192:4392:12)\n[WARNING] ⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:8080/fresta/node_modules/.vite/deps/react-router-dom.js?v=77869192:4392:12)\n[WARNING] ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:8080/fresta/node_modules/.vite/deps/react-router-dom.js?v=77869192:4392:12)\n[WARNING] ⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:8080/fresta/node_modules/.vite/deps/react-router-dom.js?v=77869192:4392:12)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/74f8c458-2021-703c-df31-0f7994afbd38/1769199985729339//tmp/test_task/result.webm",
    "created": "2026-01-23T20:20:09.759Z",
    "modified": "2026-01-23T20:26:25.856Z"
  }
]
